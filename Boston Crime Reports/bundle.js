(function (React$1,d3,topojson,ReactDOM) {
  'use strict';

  var React$1__default = 'default' in React$1 ? React$1['default'] : React$1;
  ReactDOM = ReactDOM && ReactDOM.hasOwnProperty('default') ? ReactDOM['default'] : ReactDOM;

  const jsonUrl = 'https://gist.githubusercontent.com/GeniXiong/40c876429f659272241418eca00400df/raw/1ac290ae457fb8f947f4789cbc46fbbd43113f24/neighborhoods_json.json';

  const useBostonMap = () => {
    const [data, setData] = React$1.useState(null);

    React$1.useEffect(() => {
      d3.json(jsonUrl).then(topology => {
        setData({
          land: topology
        });
      });
    }, []);

    return data;
  };

  const csvUrl =
    'https://gist.githubusercontent.com/GeniXiong/543400f47d4b937a6379a9105e70c47f/raw/134f056de16d5bb6a3277e319f21261b8dfdb8c5/boston_crime_incident_reports.csv';

  const useData = () => {
    const [data, setData] = React$1.useState(null);
    
    const ucr_dict = {'Part One':1, 'Part Two': 2, 'Part Three': 3, 'Other': 0, '':0};

    React$1.useEffect(() => {
      const row = d => {
        d.lat = +d.Lat;
        d.lng = +d.Long;
        d.date = new Date(d.OCCURRED_ON_DATE);
        d.shooting = +d.SHOOTING;
        d.ucr = ucr_dict[d.UCR_PART];
        d.offense_group = d.OFFENSE_CODE_GROUP;
        d.report = 1;

        return d;
      };
      d3.csv(csvUrl, row).then(setData);
    }, []);

    // console.log(data);
    return data;
  };

  const Marks = ({ map , data, path, projection, colorScale, colorValue, sizeValue}) => (
    React.createElement( 'g', { className: "marks" },
      React$1.useMemo(
        ()=>(
          React.createElement( React.Fragment, null,
            map.features.map(feature => (
        
        		React.createElement( 'path', { className: "land", d: path(feature) })
      ))
          )
          ),
        [path, map]
          ),

      
      
      data.map(d => {
        const [x, y] = projection([d.lng, d.lat]);
        return React.createElement( 'circle', { cx: x, cy: y, r: sizeValue, fill: colorScale(colorValue(d)) })
      })
    )
  );

  const BubbleMap = ({ map, data, width, height, colorScale, colorValue }) => {
    
    
  	const projection = React$1.useMemo(
      () => d3.geoAlbers()
  	.scale( 100000 )
  	.rotate( [71.057,0] )
  	.center( [0.13, 42.33] )
  	.translate( [width/2,height/2] ),
      [width, height]);
  	const path = React$1.useMemo(
      () => d3.geoPath()
  	.projection( projection ),
    [projection]);

    return (
      React$1__default.createElement( Marks, {
        map: map.land, data: data, path: path, projection: projection, colorScale: colorScale, colorValue: colorValue, sizeValue: 3 })
    );
  };

  const AxisBottom = ({ xScale, innerHeight, tickFormat, tickOffset = 3 }) =>
    xScale.ticks().map(tickValue => (
      React.createElement( 'g', {
        className: "tick", key: tickValue, transform: `translate(${xScale(tickValue)},0)` },
        React.createElement( 'line', { y2: innerHeight }),
        React.createElement( 'text', { style: { textAnchor: 'middle' }, dy: ".71em", y: innerHeight + tickOffset },
          tickFormat(tickValue)
        )
      )
    ));

  const AxisLeft = ({ yScale, innerWidth, tickOffset = 3 }) =>
    yScale.ticks().map(tickValue => (
      React.createElement( 'g', { className: "tick", transform: `translate(0,${yScale(tickValue)})` },
        React.createElement( 'line', { x2: innerWidth }),
        React.createElement( 'text', {
          key: tickValue, style: { textAnchor: 'end' }, x: -tickOffset, dy: ".32em" },
          tickValue
        )
      )
    ));

  const Marks$1 = ({
    binnedData,
    xScale,
    yScale,
    tooltipFormat,
    innerHeight
  }) =>
    binnedData.map(d => (

        React.createElement( 'rect', {
          className: "mark", x: xScale(d.x0), y: yScale(d.y), width: xScale(d.x1) - xScale(d.x0) - 5, height: innerHeight - yScale(d.y) },
          React.createElement( 'title', null, tooltipFormat(d.y) )
        )


    ));

  const margin = { top: 0, right: 30, bottom: 20, left: 45 };
  const xAxisLabelOffset = 54;
  const yAxisLabelOffset = 30;

  const DateHistogram = ({
    data,
    width,
    height,
    setBrushExtent,
    xValue
  }) => {
    const xAxisLabel = 'Time';

    const yValue = d => d.report;
    const yValue2 = d => d.shooting;
    const yAxisLabel = 'Total Crime Incident Reports';

    const innerHeight = height - margin.top - margin.bottom;
    const innerWidth = width - margin.left - margin.right;

    const xAxisTickFormat = d3.timeFormat('%m/%d/%Y');

    const xScale = React$1.useMemo(
      () => d3.scaleTime()
      .domain(d3.extent(data, xValue))
      .range([0, innerWidth])
      .nice(),
      [data, xValue, innerWidth]);

    

    const binnedData = React$1.useMemo(() => {
      
      return d3.histogram()
      .value(xValue)
      .domain(xScale.domain())
    	.thresholds(7)(data)
      // .thresholds(timeMonths(start, stop))(data)
      .map(array => ({
        y: d3.sum(array, yValue),
        y2: d3.sum(array, yValue2),
        x0: array.x0,
        x1: array.x1
      }));
    }, [xValue, xScale, yValue, yValue2 ]);

    const yScale = React$1.useMemo(
      () => d3.scaleLinear()
      .domain([0, d3.max(binnedData, d => d.y)])
      .range([innerHeight, 0]),
      [binnedData, innerHeight]);
    
    // const yScale2 = scaleLinear()
    //   .domain([0, max(binnedData, d => d.y2)])
    //   .range([innerHeight, 0]);

    const brushRef = React$1.useRef();

    React$1.useEffect(() => {
      const brush = d3.brushX().extent([[0, 0], [innerWidth, innerHeight]]);
      brush(d3.select(brushRef.current));
      brush.on('brush end', () => {
        setBrushExtent(d3.event.selection && d3.event.selection.map(xScale.invert));
      });
    }, [innerWidth, innerHeight]);

    return (
      React.createElement( React.Fragment, null,
        React.createElement( 'rect', { width: width, height: height, fill: "white" }),
        React.createElement( 'g', { transform: `translate(${margin.left},${margin.top})` },
          React.createElement( AxisBottom, {
            xScale: xScale, innerHeight: innerHeight, tickFormat: xAxisTickFormat, tickOffset: 5 }),
          React.createElement( 'text', {
            className: "axis-label", textAnchor: "middle", transform: `translate(${-yAxisLabelOffset},${innerHeight /
            2}) rotate(-90)` },
            yAxisLabel
          ),
          React.createElement( AxisLeft, { yScale: yScale, innerWidth: innerWidth, tickOffset: 5 }),
          React.createElement( 'text', {
            className: "axis-label", x: innerWidth / 2, y: innerHeight + xAxisLabelOffset, textAnchor: "middle" },
            xAxisLabel
          ),
          React.createElement( Marks$1, {
            binnedData: binnedData, xScale: xScale, yScale: yScale, tooltipFormat: d => d, circleRadius: 2, innerHeight: innerHeight }),
          React.createElement( 'g', { ref: brushRef })
        )
      )
    );
  };

  const ColorLegend = ({
    colorScale,
    tickSpacing = 30,
    tickSize = 10,
    tickTextOffset = 30,

  }) =>
    colorScale.domain().map((domainValue, i) => (
      React.createElement( 'g', {
        className: "legendTick", transform: `translate(0,${i * tickSpacing})` },
        React.createElement( 'circle', { fill: colorScale(domainValue), r: tickSize }),
        React.createElement( 'text', { x: tickTextOffset, dy: ".32em" }, "Part ", domainValue
        )
      )
    ));

  const width = 960;
  const height = 500;
  // const height = 500 - menuHeight;
  const margin$1 = { top: 20, right: 200, bottom: 20, left: 20 };
  const innerHeight = height - margin$1.top - margin$1.bottom;
  const innerWidth = width - margin$1.left - margin$1.right;
  const dateHistogramSize = 0.2;

  const xValue = d => d.date;

  const App = () => {
    const bostonMap = useBostonMap();
    const data = useData();
    const [brushExtent, setBrushExtent] = React$1.useState();

    if (!bostonMap || !data) {
      return React$1__default.createElement( 'pre', null, "Loading..." );
    }
    
    const filteredData = brushExtent ? data.filter(d => {
      const date = xValue(d);
      return date > brushExtent[0] && date < brushExtent[1];
    }) : data;
    
    const colorLegendLabel='Uniform Crime Report';
  	const circleRadius = 8;
    const colorValue = d => d.ucr;
    const colorScale = d3.scaleOrdinal(d3.schemeTableau10)
        // .range(["#98abc5", "#a05d56", "#ff8c00", "#d0743c"])
        .domain(data.map(colorValue));

    return (
      React$1__default.createElement( 'svg', { width: width, height: height },
        React$1__default.createElement( 'g', { transform: `translate(${margin$1.left}, ${margin$1.top})` },
          React$1__default.createElement( BubbleMap, { 
            map: bostonMap, data: filteredData, width: width, height: (1-dateHistogramSize) * innerHeight, colorScale: colorScale, colorValue: colorValue }),
          
          React$1__default.createElement( 'g', { transform: `translate(0, ${innerHeight-dateHistogramSize * innerHeight})` },
            React$1__default.createElement( DateHistogram, {
              data: data, width: width-2 * margin$1.left, height: dateHistogramSize * innerHeight, setBrushExtent: setBrushExtent, xValue: xValue })
          ),
          
          React$1__default.createElement( 'g', { transform: `translate(${innerWidth}, 100)` },
            React$1__default.createElement( 'text', { x: 35, y: -25, className: "legend label", textAnchor: "middle" },
              colorLegendLabel
            ),
            React$1__default.createElement( ColorLegend, {
              tickSpacing: 20, tickSize: 10, tickTextOffset: 12, tickSize: circleRadius, colorScale: colorScale })
        	)
        )
      )
    );
  };
  const rootElement = document.getElementById('root');
  ReactDOM.render(React$1__default.createElement( App, null ), rootElement);

}(React,d3,topojson,ReactDOM));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL3VzZUJvc3Rvbk1hcC5qcyIsIi4uL3VzZURhdGEuanMiLCIuLi9CdWJibGVNYXAvTWFya3MuanMiLCIuLi9CdWJibGVNYXAvaW5kZXguanMiLCIuLi9EYXRlSGlzdG9ncmFtL0F4aXNCb3R0b20uanMiLCIuLi9EYXRlSGlzdG9ncmFtL0F4aXNMZWZ0LmpzIiwiLi4vRGF0ZUhpc3RvZ3JhbS9NYXJrcy5qcyIsIi4uL0RhdGVIaXN0b2dyYW0vaW5kZXguanMiLCIuLi9Db2xvckxlZ2VuZC5qcyIsIi4uL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsganNvbiB9IGZyb20gJ2QzJztcbmltcG9ydCB7IGZlYXR1cmUsIG1lc2ggfSBmcm9tICd0b3BvanNvbic7XG5cbmNvbnN0IGpzb25VcmwgPSAnaHR0cHM6Ly9naXN0LmdpdGh1YnVzZXJjb250ZW50LmNvbS9HZW5pWGlvbmcvNDBjODc2NDI5ZjY1OTI3MjI0MTQxOGVjYTAwNDAwZGYvcmF3LzFhYzI5MGFlNDU3ZmI4Zjk0N2Y0Nzg5Y2JjNDZmYmJkNDMxMTNmMjQvbmVpZ2hib3Job29kc19qc29uLmpzb24nO1xuXG5leHBvcnQgY29uc3QgdXNlQm9zdG9uTWFwID0gKCkgPT4ge1xuICBjb25zdCBbZGF0YSwgc2V0RGF0YV0gPSB1c2VTdGF0ZShudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGpzb24oanNvblVybCkudGhlbih0b3BvbG9neSA9PiB7XG4gICAgICBzZXREYXRhKHtcbiAgICAgICAgbGFuZDogdG9wb2xvZ3lcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjc3YgfSBmcm9tICdkMyc7XG5cbmNvbnN0IGNzdlVybCA9XG4gICdodHRwczovL2dpc3QuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0dlbmlYaW9uZy81NDM0MDBmNDdkNGI5MzdhNjM3OWE5MTA1ZTcwYzQ3Zi9yYXcvMTM0ZjA1NmRlMTZkNWJiNmEzMjc3ZTMxOWYyMTI2MWI4ZGZkYjhjNS9ib3N0b25fY3JpbWVfaW5jaWRlbnRfcmVwb3J0cy5jc3YnO1xuXG5leHBvcnQgY29uc3QgdXNlRGF0YSA9ICgpID0+IHtcbiAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gdXNlU3RhdGUobnVsbCk7XG4gIFxuICBjb25zdCB1Y3JfZGljdCA9IHsnUGFydCBPbmUnOjEsICdQYXJ0IFR3byc6IDIsICdQYXJ0IFRocmVlJzogMywgJ090aGVyJzogMCwgJyc6MH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCByb3cgPSBkID0+IHtcbiAgICAgIGQubGF0ID0gK2QuTGF0O1xuICAgICAgZC5sbmcgPSArZC5Mb25nO1xuICAgICAgZC5kYXRlID0gbmV3IERhdGUoZC5PQ0NVUlJFRF9PTl9EQVRFKTtcbiAgICAgIGQuc2hvb3RpbmcgPSArZC5TSE9PVElORztcbiAgICAgIGQudWNyID0gdWNyX2RpY3RbZC5VQ1JfUEFSVF07XG4gICAgICBkLm9mZmVuc2VfZ3JvdXAgPSBkLk9GRkVOU0VfQ09ERV9HUk9VUDtcbiAgICAgIGQucmVwb3J0ID0gMTtcblxuICAgICAgcmV0dXJuIGQ7XG4gICAgfTtcbiAgICBjc3YoY3N2VXJsLCByb3cpLnRoZW4oc2V0RGF0YSk7XG4gIH0sIFtdKTtcblxuICAvLyBjb25zb2xlLmxvZyhkYXRhKTtcbiAgcmV0dXJuIGRhdGE7XG59OyIsImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7IFxuXG5leHBvcnQgY29uc3QgTWFya3MgPSAoeyBtYXAgLCBkYXRhLCBwYXRoLCBwcm9qZWN0aW9uLCBjb2xvclNjYWxlLCBjb2xvclZhbHVlLCBzaXplVmFsdWV9KSA9PiAoXG4gIDxnIGNsYXNzTmFtZT1cIm1hcmtzXCI+XG4gICAge3VzZU1lbW8oXG4gICAgICAoKT0+KFxuICAgICAgICA8PlxuICAgICAgICAgIHttYXAuZmVhdHVyZXMubWFwKGZlYXR1cmUgPT4gKFxuICAgICAgXG4gICAgICBcdFx0PHBhdGggY2xhc3NOYW1lPVwibGFuZFwiIGQ9e3BhdGgoZmVhdHVyZSl9IC8+XG4gICAgKSl9XG4gICAgICAgIDwvPlxuICAgICAgICApLFxuICAgICAgW3BhdGgsIG1hcF1cbiAgICAgICAgKX1cblxuICAgIFxuICAgIFxuICAgIHtkYXRhLm1hcChkID0+IHtcbiAgICAgIGNvbnN0IFt4LCB5XSA9IHByb2plY3Rpb24oW2QubG5nLCBkLmxhdF0pO1xuICAgICAgcmV0dXJuIDxjaXJjbGUgY3g9e3h9IGN5PXt5fSByPXtzaXplVmFsdWV9IGZpbGw9e2NvbG9yU2NhbGUoY29sb3JWYWx1ZShkKSl9Lz5cbiAgICB9KX1cbiAgPC9nPlxuKTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VNZW1vIH0gIGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHNjYWxlU3FydCwgc2NhbGVPcmRpbmFsLCBnZW9QYXRoLCBnZW9BbGJlcnN9IGZyb20gJ2QzJztcbmltcG9ydCB7IE1hcmtzIH0gZnJvbSAnLi9NYXJrcyc7XG5cbmV4cG9ydCBjb25zdCBCdWJibGVNYXAgPSAoeyBtYXAsIGRhdGEsIHdpZHRoLCBoZWlnaHQsIGNvbG9yU2NhbGUsIGNvbG9yVmFsdWUgfSkgPT4ge1xuICBcbiAgXG5cdGNvbnN0IHByb2plY3Rpb24gPSB1c2VNZW1vKFxuICAgICgpID0+IGdlb0FsYmVycygpXG5cdC5zY2FsZSggMTAwMDAwIClcblx0LnJvdGF0ZSggWzcxLjA1NywwXSApXG5cdC5jZW50ZXIoIFswLjEzLCA0Mi4zM10gKVxuXHQudHJhbnNsYXRlKCBbd2lkdGgvMixoZWlnaHQvMl0gKSxcbiAgICBbd2lkdGgsIGhlaWdodF0pO1xuXHRjb25zdCBwYXRoID0gdXNlTWVtbyhcbiAgICAoKSA9PiBnZW9QYXRoKClcblx0LnByb2plY3Rpb24oIHByb2plY3Rpb24gKSxcbiAgW3Byb2plY3Rpb25dKTtcblxuICByZXR1cm4gKFxuICAgIDxNYXJrc1xuICAgICAgbWFwPXttYXAubGFuZH1cbiAgICAgIGRhdGE9e2RhdGF9XG4gICAgICBwYXRoID0ge3BhdGh9XG4gICAgICBwcm9qZWN0aW9uID0ge3Byb2plY3Rpb259XG4gICAgICBjb2xvclNjYWxlID0ge2NvbG9yU2NhbGV9XG4gICAgICBjb2xvclZhbHVlID0ge2NvbG9yVmFsdWV9XG4gICAgICBzaXplVmFsdWU9ezN9XG4gICAgLz5cbiAgKTtcbn07IiwiZXhwb3J0IGNvbnN0IEF4aXNCb3R0b20gPSAoeyB4U2NhbGUsIGlubmVySGVpZ2h0LCB0aWNrRm9ybWF0LCB0aWNrT2Zmc2V0ID0gMyB9KSA9PlxuICB4U2NhbGUudGlja3MoKS5tYXAodGlja1ZhbHVlID0+IChcbiAgICA8Z1xuICAgICAgY2xhc3NOYW1lPVwidGlja1wiXG4gICAgICBrZXk9e3RpY2tWYWx1ZX1cbiAgICAgIHRyYW5zZm9ybT17YHRyYW5zbGF0ZSgke3hTY2FsZSh0aWNrVmFsdWUpfSwwKWB9XG4gICAgPlxuICAgICAgPGxpbmUgeTI9e2lubmVySGVpZ2h0fSAvPlxuICAgICAgPHRleHQgc3R5bGU9e3sgdGV4dEFuY2hvcjogJ21pZGRsZScgfX0gZHk9XCIuNzFlbVwiIHk9e2lubmVySGVpZ2h0ICsgdGlja09mZnNldH0+XG4gICAgICAgIHt0aWNrRm9ybWF0KHRpY2tWYWx1ZSl9XG4gICAgICA8L3RleHQ+XG4gICAgPC9nPlxuICApKTtcbiIsImV4cG9ydCBjb25zdCBBeGlzTGVmdCA9ICh7IHlTY2FsZSwgaW5uZXJXaWR0aCwgdGlja09mZnNldCA9IDMgfSkgPT5cbiAgeVNjYWxlLnRpY2tzKCkubWFwKHRpY2tWYWx1ZSA9PiAoXG4gICAgPGcgY2xhc3NOYW1lPVwidGlja1wiIHRyYW5zZm9ybT17YHRyYW5zbGF0ZSgwLCR7eVNjYWxlKHRpY2tWYWx1ZSl9KWB9PlxuICAgICAgPGxpbmUgeDI9e2lubmVyV2lkdGh9IC8+XG4gICAgICA8dGV4dFxuICAgICAgICBrZXk9e3RpY2tWYWx1ZX1cbiAgICAgICAgc3R5bGU9e3sgdGV4dEFuY2hvcjogJ2VuZCcgfX1cbiAgICAgICAgeD17LXRpY2tPZmZzZXR9XG4gICAgICAgIGR5PVwiLjMyZW1cIlxuICAgICAgPlxuICAgICAgICB7dGlja1ZhbHVlfVxuICAgICAgPC90ZXh0PlxuICAgIDwvZz5cbiAgKSk7XG4iLCJpbXBvcnQgeyBsaW5lLCBjdXJ2ZU5hdHVyYWwgfSBmcm9tICdkMyc7XG5leHBvcnQgY29uc3QgTWFya3MgPSAoe1xuICBiaW5uZWREYXRhLFxuICB4U2NhbGUsXG4gIHlTY2FsZSxcbiAgdG9vbHRpcEZvcm1hdCxcbiAgaW5uZXJIZWlnaHRcbn0pID0+XG4gIGJpbm5lZERhdGEubWFwKGQgPT4gKFxuXG4gICAgICA8cmVjdFxuICAgICAgICBjbGFzc05hbWU9XCJtYXJrXCJcbiAgICAgICAgeD17eFNjYWxlKGQueDApfVxuICAgICAgICB5PXt5U2NhbGUoZC55KX1cbiAgICAgICAgd2lkdGg9e3hTY2FsZShkLngxKSAtIHhTY2FsZShkLngwKSAtIDV9XG4gICAgICAgIGhlaWdodD17aW5uZXJIZWlnaHQgLSB5U2NhbGUoZC55KX1cbiAgICAgID5cbiAgICAgICAgPHRpdGxlPnt0b29sdGlwRm9ybWF0KGQueSl9PC90aXRsZT5cbiAgICAgIDwvcmVjdD5cblxuXG4gICkpO1xuIiwiaW1wb3J0IHtcbiAgc2NhbGVMaW5lYXIsXG4gIHNjYWxlVGltZSxcbiAgbWF4LFxuICBtaW4sXG4gIHRpbWVGb3JtYXQsXG4gIGV4dGVudCxcbiAgaGlzdG9ncmFtIGFzIGJpbixcbiAgdGltZU1vbnRocyxcbiAgc3VtLFxuICBicnVzaFgsXG4gIHNlbGVjdCxcbiAgZXZlbnRcbn0gZnJvbSAnZDMnO1xuaW1wb3J0IHsgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBBeGlzQm90dG9tIH0gZnJvbSAnLi9BeGlzQm90dG9tJztcbmltcG9ydCB7IEF4aXNMZWZ0IH0gZnJvbSAnLi9BeGlzTGVmdCc7XG5pbXBvcnQgeyBNYXJrcyB9IGZyb20gJy4vTWFya3MnO1xuXG5jb25zdCBtYXJnaW4gPSB7IHRvcDogMCwgcmlnaHQ6IDMwLCBib3R0b206IDIwLCBsZWZ0OiA0NSB9O1xuY29uc3QgeEF4aXNMYWJlbE9mZnNldCA9IDU0O1xuY29uc3QgeUF4aXNMYWJlbE9mZnNldCA9IDMwO1xuXG5leHBvcnQgY29uc3QgRGF0ZUhpc3RvZ3JhbSA9ICh7XG4gIGRhdGEsXG4gIHdpZHRoLFxuICBoZWlnaHQsXG4gIHNldEJydXNoRXh0ZW50LFxuICB4VmFsdWVcbn0pID0+IHtcbiAgY29uc3QgeEF4aXNMYWJlbCA9ICdUaW1lJztcblxuICBjb25zdCB5VmFsdWUgPSBkID0+IGQucmVwb3J0O1xuICBjb25zdCB5VmFsdWUyID0gZCA9PiBkLnNob290aW5nO1xuICBjb25zdCB5QXhpc0xhYmVsID0gJ1RvdGFsIENyaW1lIEluY2lkZW50IFJlcG9ydHMnO1xuXG4gIGNvbnN0IGlubmVySGVpZ2h0ID0gaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG4gIGNvbnN0IGlubmVyV2lkdGggPSB3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuXG4gIGNvbnN0IHhBeGlzVGlja0Zvcm1hdCA9IHRpbWVGb3JtYXQoJyVtLyVkLyVZJyk7XG5cbiAgY29uc3QgeFNjYWxlID0gdXNlTWVtbyhcbiAgICAoKSA9PiBzY2FsZVRpbWUoKVxuICAgIC5kb21haW4oZXh0ZW50KGRhdGEsIHhWYWx1ZSkpXG4gICAgLnJhbmdlKFswLCBpbm5lcldpZHRoXSlcbiAgICAubmljZSgpLFxuICAgIFtkYXRhLCB4VmFsdWUsIGlubmVyV2lkdGhdKTtcblxuICBcblxuICBjb25zdCBiaW5uZWREYXRhID0gdXNlTWVtbygoKSA9PiB7XG4gICAgXG4gICAgcmV0dXJuIGJpbigpXG4gICAgLnZhbHVlKHhWYWx1ZSlcbiAgICAuZG9tYWluKHhTY2FsZS5kb21haW4oKSlcbiAgXHQudGhyZXNob2xkcyg3KShkYXRhKVxuICAgIC8vIC50aHJlc2hvbGRzKHRpbWVNb250aHMoc3RhcnQsIHN0b3ApKShkYXRhKVxuICAgIC5tYXAoYXJyYXkgPT4gKHtcbiAgICAgIHk6IHN1bShhcnJheSwgeVZhbHVlKSxcbiAgICAgIHkyOiBzdW0oYXJyYXksIHlWYWx1ZTIpLFxuICAgICAgeDA6IGFycmF5LngwLFxuICAgICAgeDE6IGFycmF5LngxXG4gICAgfSkpO1xuICB9LCBbeFZhbHVlLCB4U2NhbGUsIHlWYWx1ZSwgeVZhbHVlMiBdKTtcblxuICBjb25zdCB5U2NhbGUgPSB1c2VNZW1vKFxuICAgICgpID0+IHNjYWxlTGluZWFyKClcbiAgICAuZG9tYWluKFswLCBtYXgoYmlubmVkRGF0YSwgZCA9PiBkLnkpXSlcbiAgICAucmFuZ2UoW2lubmVySGVpZ2h0LCAwXSksXG4gICAgW2Jpbm5lZERhdGEsIGlubmVySGVpZ2h0XSk7XG4gIFxuICAvLyBjb25zdCB5U2NhbGUyID0gc2NhbGVMaW5lYXIoKVxuICAvLyAgIC5kb21haW4oWzAsIG1heChiaW5uZWREYXRhLCBkID0+IGQueTIpXSlcbiAgLy8gICAucmFuZ2UoW2lubmVySGVpZ2h0LCAwXSk7XG5cbiAgY29uc3QgYnJ1c2hSZWYgPSB1c2VSZWYoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGJydXNoID0gYnJ1c2hYKCkuZXh0ZW50KFtbMCwgMF0sIFtpbm5lcldpZHRoLCBpbm5lckhlaWdodF1dKTtcbiAgICBicnVzaChzZWxlY3QoYnJ1c2hSZWYuY3VycmVudCkpO1xuICAgIGJydXNoLm9uKCdicnVzaCBlbmQnLCAoKSA9PiB7XG4gICAgICBzZXRCcnVzaEV4dGVudChldmVudC5zZWxlY3Rpb24gJiYgZXZlbnQuc2VsZWN0aW9uLm1hcCh4U2NhbGUuaW52ZXJ0KSk7XG4gICAgfSk7XG4gIH0sIFtpbm5lcldpZHRoLCBpbm5lckhlaWdodF0pO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxyZWN0IHdpZHRoPXt3aWR0aH0gaGVpZ2h0PXtoZWlnaHR9IGZpbGw9XCJ3aGl0ZVwiIC8+XG4gICAgICA8ZyB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoJHttYXJnaW4ubGVmdH0sJHttYXJnaW4udG9wfSlgfT5cbiAgICAgICAgPEF4aXNCb3R0b21cbiAgICAgICAgICB4U2NhbGU9e3hTY2FsZX1cbiAgICAgICAgICBpbm5lckhlaWdodD17aW5uZXJIZWlnaHR9XG4gICAgICAgICAgdGlja0Zvcm1hdD17eEF4aXNUaWNrRm9ybWF0fVxuICAgICAgICAgIHRpY2tPZmZzZXQ9ezV9XG4gICAgICAgIC8+XG4gICAgICAgIDx0ZXh0XG4gICAgICAgICAgY2xhc3NOYW1lPVwiYXhpcy1sYWJlbFwiXG4gICAgICAgICAgdGV4dEFuY2hvcj1cIm1pZGRsZVwiXG4gICAgICAgICAgdHJhbnNmb3JtPXtgdHJhbnNsYXRlKCR7LXlBeGlzTGFiZWxPZmZzZXR9LCR7aW5uZXJIZWlnaHQgL1xuICAgICAgICAgICAgMn0pIHJvdGF0ZSgtOTApYH1cbiAgICAgICAgPlxuICAgICAgICAgIHt5QXhpc0xhYmVsfVxuICAgICAgICA8L3RleHQ+XG4gICAgICAgIDxBeGlzTGVmdCB5U2NhbGU9e3lTY2FsZX0gaW5uZXJXaWR0aD17aW5uZXJXaWR0aH0gdGlja09mZnNldD17NX0gLz5cbiAgICAgICAgPHRleHRcbiAgICAgICAgICBjbGFzc05hbWU9XCJheGlzLWxhYmVsXCJcbiAgICAgICAgICB4PXtpbm5lcldpZHRoIC8gMn1cbiAgICAgICAgICB5PXtpbm5lckhlaWdodCArIHhBeGlzTGFiZWxPZmZzZXR9XG4gICAgICAgICAgdGV4dEFuY2hvcj1cIm1pZGRsZVwiXG4gICAgICAgID5cbiAgICAgICAgICB7eEF4aXNMYWJlbH1cbiAgICAgICAgPC90ZXh0PlxuICAgICAgICA8TWFya3NcbiAgICAgICAgICBiaW5uZWREYXRhPXtiaW5uZWREYXRhfVxuICAgICAgICAgIHhTY2FsZT17eFNjYWxlfVxuICAgICAgICAgIHlTY2FsZT17eVNjYWxlfVxuICAgICAgICAgIHRvb2x0aXBGb3JtYXQ9e2QgPT4gZH1cbiAgICAgICAgICBjaXJjbGVSYWRpdXM9ezJ9XG4gICAgICAgICAgaW5uZXJIZWlnaHQ9e2lubmVySGVpZ2h0fVxuICAgICAgICAvPlxuICAgICAgICA8ZyByZWY9e2JydXNoUmVmfSAvPlxuICAgICAgPC9nPlxuICAgIDwvPlxuICApO1xufTtcbiIsImV4cG9ydCBjb25zdCBDb2xvckxlZ2VuZCA9ICh7XG4gIGNvbG9yU2NhbGUsXG4gIHRpY2tTcGFjaW5nID0gMzAsXG4gIHRpY2tTaXplID0gMTAsXG4gIHRpY2tUZXh0T2Zmc2V0ID0gMzAsXG5cbn0pID0+XG4gIGNvbG9yU2NhbGUuZG9tYWluKCkubWFwKChkb21haW5WYWx1ZSwgaSkgPT4gKFxuICAgIDxnXG4gICAgICBjbGFzc05hbWU9XCJsZWdlbmRUaWNrXCJcbiAgICAgIHRyYW5zZm9ybT17YHRyYW5zbGF0ZSgwLCR7aSAqIHRpY2tTcGFjaW5nfSlgfVxuICAgID5cbiAgICAgIDxjaXJjbGUgZmlsbD17Y29sb3JTY2FsZShkb21haW5WYWx1ZSl9IHI9e3RpY2tTaXplfSAvPlxuICAgICAgPHRleHQgeD17dGlja1RleHRPZmZzZXR9IGR5PVwiLjMyZW1cIj5cbiAgICAgICAgUGFydCB7ZG9tYWluVmFsdWV9XG4gICAgICA8L3RleHQ+XG4gICAgPC9nPlxuICApKTsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfWZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgdXNlQm9zdG9uTWFwIH0gZnJvbSAnLi91c2VCb3N0b25NYXAnO1xuaW1wb3J0IHsgdXNlRGF0YSB9IGZyb20gJy4vdXNlRGF0YSc7XG5pbXBvcnQgeyBCdWJibGVNYXAgfSBmcm9tICcuL0J1YmJsZU1hcC9pbmRleC5qcyc7XG5pbXBvcnQgeyBEYXRlSGlzdG9ncmFtIH0gZnJvbSAnLi9EYXRlSGlzdG9ncmFtL2luZGV4LmpzJztcbmltcG9ydCB7IENvbG9yTGVnZW5kIH0gZnJvbSAnLi9Db2xvckxlZ2VuZCc7XG5pbXBvcnQgeyBzY2FsZU9yZGluYWwsIHNjaGVtZVRhYmxlYXUxMCB9IGZyb20gJ2QzJztcblxuY29uc3Qgd2lkdGggPSA5NjA7XG5jb25zdCBoZWlnaHQgPSA1MDA7XG5jb25zdCBtZW51SGVpZ2h0ID0gOTA7XG4vLyBjb25zdCBoZWlnaHQgPSA1MDAgLSBtZW51SGVpZ2h0O1xuY29uc3QgbWFyZ2luID0geyB0b3A6IDIwLCByaWdodDogMjAwLCBib3R0b206IDIwLCBsZWZ0OiAyMCB9O1xuY29uc3QgaW5uZXJIZWlnaHQgPSBoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcbmNvbnN0IGlubmVyV2lkdGggPSB3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuY29uc3QgZGF0ZUhpc3RvZ3JhbVNpemUgPSAwLjI7XG5cbmNvbnN0IHhWYWx1ZSA9IGQgPT4gZC5kYXRlO1xuXG5jb25zdCBBcHAgPSAoKSA9PiB7XG4gIGNvbnN0IGJvc3Rvbk1hcCA9IHVzZUJvc3Rvbk1hcCgpO1xuICBjb25zdCBkYXRhID0gdXNlRGF0YSgpO1xuICBjb25zdCBbYnJ1c2hFeHRlbnQsIHNldEJydXNoRXh0ZW50XSA9IHVzZVN0YXRlKCk7XG5cbiAgaWYgKCFib3N0b25NYXAgfHwgIWRhdGEpIHtcbiAgICByZXR1cm4gPHByZT5Mb2FkaW5nLi4uPC9wcmU+O1xuICB9XG4gIFxuICBjb25zdCBmaWx0ZXJlZERhdGEgPSBicnVzaEV4dGVudCA/IGRhdGEuZmlsdGVyKGQgPT4ge1xuICAgIGNvbnN0IGRhdGUgPSB4VmFsdWUoZCk7XG4gICAgcmV0dXJuIGRhdGUgPiBicnVzaEV4dGVudFswXSAmJiBkYXRlIDwgYnJ1c2hFeHRlbnRbMV07XG4gIH0pIDogZGF0YTtcbiAgXG4gIGNvbnN0IGNvbG9yTGVnZW5kTGFiZWw9J1VuaWZvcm0gQ3JpbWUgUmVwb3J0Jztcblx0Y29uc3QgY2lyY2xlUmFkaXVzID0gODtcbiAgY29uc3QgY29sb3JWYWx1ZSA9IGQgPT4gZC51Y3I7XG4gIGNvbnN0IGNvbG9yU2NhbGUgPSBzY2FsZU9yZGluYWwoc2NoZW1lVGFibGVhdTEwKVxuICAgICAgLy8gLnJhbmdlKFtcIiM5OGFiYzVcIiwgXCIjYTA1ZDU2XCIsIFwiI2ZmOGMwMFwiLCBcIiNkMDc0M2NcIl0pXG4gICAgICAuZG9tYWluKGRhdGEubWFwKGNvbG9yVmFsdWUpKTtcblxuICByZXR1cm4gKFxuICAgIDxzdmcgd2lkdGg9e3dpZHRofSBoZWlnaHQ9e2hlaWdodH0+XG4gICAgICA8ZyB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoJHttYXJnaW4ubGVmdH0sICR7bWFyZ2luLnRvcH0pYH0+XG4gICAgICAgIDxCdWJibGVNYXAgXG4gICAgICAgICAgbWFwPXsgYm9zdG9uTWFwIH0gXG4gICAgICAgICAgZGF0YT17IGZpbHRlcmVkRGF0YX1cbiAgICAgICAgICB3aWR0aD17d2lkdGh9XG4gICAgICAgICAgaGVpZ2h0PXsoMS1kYXRlSGlzdG9ncmFtU2l6ZSkgKiBpbm5lckhlaWdodH1cbiAgICAgICAgICBjb2xvclNjYWxlPXtjb2xvclNjYWxlfVxuICAgICAgICAgIGNvbG9yVmFsdWU9e2NvbG9yVmFsdWV9Lz5cbiAgICAgICAgXG4gICAgICAgIDxnIHRyYW5zZm9ybT17YHRyYW5zbGF0ZSgwLCAke2lubmVySGVpZ2h0LWRhdGVIaXN0b2dyYW1TaXplICogaW5uZXJIZWlnaHR9KWB9PlxuICAgICAgICAgIDxEYXRlSGlzdG9ncmFtXG4gICAgICAgICAgICBkYXRhPXtkYXRhfVxuICAgICAgICAgICAgd2lkdGg9e3dpZHRoLTIgKiBtYXJnaW4ubGVmdH1cbiAgICAgICAgICAgIGhlaWdodD17ZGF0ZUhpc3RvZ3JhbVNpemUgKiBpbm5lckhlaWdodH1cbiAgICAgICAgICAgIHNldEJydXNoRXh0ZW50PXtzZXRCcnVzaEV4dGVudH1cbiAgICAgICAgICAgIHhWYWx1ZT17eFZhbHVlfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZz5cbiAgICAgICAgXG4gICAgICAgIDxnIHRyYW5zZm9ybT17YHRyYW5zbGF0ZSgke2lubmVyV2lkdGh9LCAxMDApYH0+XG4gICAgICAgICAgPHRleHQgeD17MzV9IHk9ey0yNX0gY2xhc3NOYW1lPVwibGVnZW5kIGxhYmVsXCIgdGV4dEFuY2hvcj1cIm1pZGRsZVwiPlxuICAgICAgICAgICAge2NvbG9yTGVnZW5kTGFiZWx9XG4gICAgICAgICAgPC90ZXh0PlxuICAgICAgICAgIDxDb2xvckxlZ2VuZFxuICAgICAgICAgICAgdGlja1NwYWNpbmc9ezIwfVxuICAgICAgICAgICAgdGlja1NpemU9ezEwfVxuICAgICAgICAgICAgdGlja1RleHRPZmZzZXQ9ezEyfVxuICAgICAgICAgICAgdGlja1NpemU9e2NpcmNsZVJhZGl1c31cbiAgICAgICAgICAgIGNvbG9yU2NhbGU9e2NvbG9yU2NhbGV9XG4gICAgICAgICAgLz5cbiAgICAgIFx0PC9nPlxuICAgICAgPC9nPlxuICAgIDwvc3ZnPlxuICApO1xufTtcbmNvbnN0IHJvb3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKTtcblJlYWN0RE9NLnJlbmRlcig8QXBwIC8+LCByb290RWxlbWVudCk7XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJqc29uIiwiY3N2IiwidXNlTWVtbyIsImdlb0FsYmVycyIsImdlb1BhdGgiLCJSZWFjdCIsIk1hcmtzIiwidGltZUZvcm1hdCIsInNjYWxlVGltZSIsImV4dGVudCIsImJpbiIsInN1bSIsInNjYWxlTGluZWFyIiwibWF4IiwidXNlUmVmIiwiYnJ1c2hYIiwic2VsZWN0IiwiZXZlbnQiLCJtYXJnaW4iLCJzY2FsZU9yZGluYWwiLCJzY2hlbWVUYWJsZWF1MTAiXSwibWFwcGluZ3MiOiI7Ozs7OztFQUlBLE1BQU0sT0FBTyxHQUFHLG9KQUFvSixDQUFDOztBQUVySyxFQUFPLE1BQU0sWUFBWSxHQUFHLE1BQU07SUFDaEMsTUFBTSxDQUFDLElB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